<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Интернет-магазин</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="app">
        <header class="header center">
            <a href="index.html" class="logo">MyShop</a>
            <div class="cart">
                <form action="#" class="search-form" @submit.prevent="filterGoods">
                    <input type="text" class="search-field" v-model="searchLine">
                    <button class="btn-search" type="submit">
                        <svg width="20" height="20" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M30.39 0.739994C27.6488 0.739994 24.9691 1.55287 22.6898 3.07582C20.4105 4.59878 18.6341 6.76342 17.585 9.296C16.536 11.8286 16.2615 14.6154 16.7963 17.3039C17.3311 19.9925 18.6511 22.4621 20.5895 24.4005C22.5279 26.3389 24.9975 27.6589 27.6861 28.1937C30.3746 28.7285 33.1614 28.454 35.694 27.405C38.2266 26.3559 40.3912 24.5795 41.9142 22.3002C43.4371 20.0209 44.25 17.3412 44.25 14.6C44.2513 12.7795 43.8937 10.9766 43.1977 9.29445C42.5016 7.61228 41.4807 6.08384 40.1934 4.79656C38.9062 3.50928 37.3777 2.48841 35.6956 1.79235C34.0134 1.09628 32.2105 0.738679 30.39 0.739994ZM30.39 24.4C28.4517 24.4 26.557 23.8252 24.9454 22.7484C23.3338 21.6716 22.0777 20.141 21.336 18.3503C20.5942 16.5596 20.4002 14.5891 20.7783 12.6881C21.1564 10.7871 22.0898 9.0409 23.4604 7.67035C24.8309 6.29979 26.5771 5.36643 28.4781 4.9883C30.3791 4.61016 32.3496 4.80424 34.1403 5.54597C35.931 6.28771 37.4616 7.5438 38.5384 9.15541C39.6152 10.767 40.19 12.6617 40.19 14.6C40.19 17.1991 39.1575 19.6918 37.3197 21.5296C35.4818 23.3675 32.9891 24.4 30.39 24.4Z" fill="#010101"/>
                            <path d="M21.6 25.34L9.19001 42.44C8.96098 42.7539 8.79762 43.1109 8.70971 43.4894C8.62179 43.8679 8.61112 44.2603 8.67834 44.6431C8.74555 45.0258 8.88927 45.3911 9.1009 45.717C9.31253 46.043 9.58772 46.3229 9.91001 46.54C10.2343 46.7572 10.599 46.907 10.9824 46.9804C11.3658 47.0538 11.76 47.0493 12.1416 46.9672C12.5232 46.8851 12.8844 46.727 13.2036 46.5025C13.5229 46.2779 13.7937 45.9914 14 45.66L25.12 27.66C23.8367 27.068 22.6501 26.2858 21.6 25.34Z" fill="#000"/>
                        </svg>
                    </button>
                </form>
                <button class="btn-cart" type="button" @click="isVisibleCart=!isVisibleCart">Корзина</button>
                <div class="cart-block" :class="{invisible: !isVisibleCart}" v-if="cart.length">
                    <div class="cart-item" v-for="product of cart" :key="product.id_product" :data-id="product.id_product">
                        <div class="product-bio">
                            <img :src="imgCatalog" alt="Some image">
                            <div class="product-desc">
                                <p class="product-title">{{ product.product_name }}</p>
                                <p class="product-quantity">Количество: {{ product.quantity }}</p>
                                <p class="product-single-price">{{ product.price }} за ед.</p>
                            </div>
                        </div>
                        <div class="right-block">
                            <p class="product-price">{{ product.quantity * product.price }} ₽</p>
                            <button class="btn del-btn" :data-id="product.id_product" @click="removeProduct(product)">&times;</button>
                        </div>
                    </div>
                </div>
                <div class="cart-block" :class="{invisible: !isVisibleCart}" v-else>Корзина пуста.</div>
            </div>
        </header>

        <main class="main center">
            <div class="products" v-if="products.length">
                <div class="product-item" v-for="product of products" :key="product.id_product" :data-id="product.id_product">
                    <img :src="imgCatalog" alt="Some img">
                    <div class="desc">
                        <h3>{{ product.product_name }}</h3>
                        <p>{{ product.price }}₽</p>
                        <button class="btn buy-btn" @click="addProduct(product)">Купить</button>
                    </div>
                </div>
            </div>
            <p class="products_empty" v-else>Нет данных!</p>
        </main>

        <footer class="footer center">
            <p class="footer-copyright">© 2021 Brand All Rights Reserved.</p>
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script src="js/main.js"></script>
</body>
</html>